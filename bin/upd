#!/bin/bash

echo
echo "Updating system..."

if linux; then
  sudo apt update &&
    apt list --upgradable &&
    sudo apt -y upgrade &&
    sudo apt -y full-upgrade &&
    sudo apt -y autoremove &&
    sudo apt -y clean

  echo
  echo "Updating snaps..."
  sudo snap refresh --list &&
    sudo snap refresh &&
    snap list --all &&
    snap changes
fi

echo
echo "Updating Homebrew..."
brew update &&
  brew outdated &&
  brew upgrade &&
  brew cleanup &&
  brew doctor

echo
echo "Updating runtimes with mise..."
mise self-update -y &&
  # mise plugins update &&
  mise outdated &&
  mise upgrade &&
  mise cache clear &&
  mise reshim &&
  mise doctor
